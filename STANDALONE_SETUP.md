# Standalone Setup Guide for Dragon Copilot Extensions

This guide explains how to extract and run the Dragon Copilot partner initialization tools **without VS Code**.

## Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js 22.20.0** or later
- **npm 10.9.3** or later  
- **.NET 9** (if working with C# extensions)
- **PowerShell** (for Windows) or **Bash** (for Linux/Mac)

You can verify your installations:

```bash
node --version
npm --version
dotnet --version
```

## Step 1: Extract the Archive

1. **Download/Receive** the Dragon Copilot extension samples zip file
2. **Extract** the archive to your desired location:

### Windows
```powershell
# Extract using PowerShell
Expand-Archive -Path "dragon-copilot-extension-samples.zip" -DestinationPath "C:\your-project-folder"
cd "C:\your-project-folder\dragon-copilot-extension-samples"
```

### Linux/Mac
```bash
# Extract using unzip
unzip dragon-copilot-extension-samples.zip -d /your-project-folder
cd /your-project-folder/dragon-copilot-extension-samples
```

## Step 2: Install and Build the CLI Tools

Navigate to the CLI tools directory and set up the Dragon Copilot CLI:

### Windows (PowerShell)
```powershell
cd tools\dragon-copilot-cli
npm install
npm run build
npm link
```

### Linux/Mac (Bash)
```bash
cd tools/dragon-copilot-cli
npm install
npm run build
npm link
```

This will:
- Install all required dependencies
- Build the TypeScript CLI from source
- Create a global `dragon-copilot` command available from anywhere

## Step 3: Verify CLI Installation

Test that the CLI is properly installed:

```bash
dragon-copilot --help
```

You should see the CLI help menu with available commands.

## Step 4: Initialize Partner Integration

Now you can run the partner initialization wizard:

```bash
dragon-copilot partner init
```

This interactive wizard will:
- Guide you through creating a `integration.yaml` manifest
- Configure partner authentication settings
- Set up clinical application integration details
- Create publisher configuration

The wizard will prompt you for:
- **Partner name** and description
- **Clinical application name** (the EHR or workflow system)
- **Authentication method** (JWT, API key, etc.)
- **API endpoints** and configuration
- **Data access requirements**

## Step 5: Validate Your Configuration

After completing the wizard, validate your configuration:

```bash
dragon-copilot partner validate ./integration.yaml
```

This ensures your manifest follows the correct schema and business rules.

## Step 6: Working with Extensions (Optional)

If you want to create Dragon Copilot extensions (not just partner integrations):

```bash
# Create a new extension
dragon-copilot extension init

# Validate extension manifest
dragon-copilot extension validate ./extension.yaml

# Package extension for distribution
dragon-copilot extension package --manifest ./extension.yaml
```

## Directory Structure After Setup

After extraction and setup, your directory structure should look like:

```
your-project-folder/
├── dragon-copilot-extension-samples/
│   ├── doc/                          # Documentation
│   ├── samples/                      # Sample implementations
│   │   └── DragonCopilot/
│   │       └── Workflow/
│   │           └── SampleExtension.Web/   # C# sample extension
│   ├── src/
│   │   └── Dragon.Copilot.Models/    # Data models and contracts
│   ├── tools/
│   │   └── dragon-copilot-cli/       # CLI tools (now built)
│   └── [your-integration-files]/     # Generated by wizard
│       ├── integration.yaml          # Partner manifest
│       ├── publisher.json           # Publisher configuration
│       └── assets/                  # Logos and resources
```

## Troubleshooting

### CLI Not Found
If `dragon-copilot` command is not recognized:

1. **Verify npm global directory** is in your PATH:
   ```bash
   npm config get prefix
   ```

2. **Manually add to PATH** if needed:
   - Windows: Add `%APPDATA%\npm` to your PATH
   - Linux/Mac: Add `~/.npm-global/bin` to your PATH

3. **Alternative: Use npx** instead of global install:
   ```bash
   cd tools/dragon-copilot-cli
   npx dragon-copilot partner init
   ```

### Permission Issues (Linux/Mac)
If you encounter permission errors with `npm link`:

```bash
# Use a global directory you own
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# Then retry the build and link
npm run build
npm link
```

### Node.js Version Issues
Ensure you're using Node.js 22.20.0 or compatible version:

```bash
# Install via Node Version Manager if needed
# Windows (using chocolatey)
choco install nodejs --version=22.20.0

# Linux/Mac (using nvm)
nvm install 22.20.0
nvm use 22.20.0
```

## Next Steps

1. **Review Documentation**: Check the `doc/` folder for authentication patterns and API integration guides
2. **Examine Sample Code**: Look at `samples/DragonCopilot/Workflow/SampleExtension.Web/` for implementation examples
3. **Test Integration**: Use the generated configuration files to test your Dragon Copilot integration
4. **Deploy**: Follow deployment guides in the documentation for production setup

## Getting Help

- **CLI Help**: Run `dragon-copilot --help` or `dragon-copilot <command> --help`
- **Documentation**: Review files in the `doc/` directory
- **Sample Code**: Examine the sample extension in `samples/` for patterns
- **Validation**: Use `dragon-copilot partner validate` to check your configuration

This setup allows you to use all Dragon Copilot development tools without requiring VS Code, using only command-line tools and your preferred text editor.